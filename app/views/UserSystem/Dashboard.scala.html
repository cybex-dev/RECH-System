@import views.html.Templates.Masterpage
@import models.UserSystem.Application
@import java.util.List
@import models.ApplicationSystem.ApplicationStatus

@import helpers.CookieTags
@import models.UserSystem.UserType
@import views.html.UserSystem.fragmentOverviewPI
@import views.html.UserSystem.fragmentOverviewPRP
@import views.html.UserSystem.fragmentOverviewReviewers
@import views.html.UserSystem.fragmentOverviewLiaison
@import views.html.UserSystem.fragmentRCDOverview

@(applications: List[Application])

@status_icons(status: ApplicationStatus) = @{
    status match {
        case ApplicationStatus.DRAFT => ""
        case _ => ""
    }
}

@getDashboard() = @{
    UserType.parse(session().get(CookieTags.user_type)) match {
        case UserType.PrimaryResponsiblePerson => fragmentOverviewPRP.apply()
        case UserType.Reviewer => fragmentOverviewReviewers.apply()
        case UserType.Liaison => fragmentOverviewLiaison.apply()
        case UserType.RCD => fragmentRCDOverview.apply()
        case UserType.FacultyRTI =>
        case UserType.DepartmentHead => ""
        case UserType.PrimaryInvestigator =>
        case _ => fragmentOverviewPI.apply(applications)
    }
}

@Masterpage.apply(" :: Overview"){
    <br/>
    <h2 style="text-decoration: underline;">Overview</h2>
    <br/>
    @getDashboard()
}