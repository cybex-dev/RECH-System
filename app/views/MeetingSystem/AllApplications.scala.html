@import dao.ApplicationSystem.EntityEthicsApplication
@import views.html.Templates.Masterpage
@import dao.Meeting.EntityAgendaItem
@import dao.Meeting.EntityMeeting
@import java.util

@(meeting: EntityMeeting, allApplications: util.Map[EntityAgendaItem, EntityEthicsApplication])

    @Masterpage(" :: All Meeting Applications") {
        <h2>All Applications</h2>
        <br/>
        <p><span style="font-weight: bold">Meeting Date: </span>@meeting.getMeetingDate</p>
        <br/>
        <p style="font-weight: bold;">Meeting Announcements</p>
        <ul>
            @meeting.getAnnouncements
        </ul>
        <p style="font-style: italic;">Applications are ready for REC meeting scrutiny</p>
        <br/>
            <div class="application-details"></div>
            <table>
                <thead>
                    <tr>
                        <th>Application ID</th>
                        <th>Application Title</th>
                        <th># Revision</th>
                        <th>PRP</th>
                        <th>PI</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @if(allApplications.size() > 0) {
                        @for((item, app) <- allApplications) {
                            <td>@app.getOfficialID</td>
                            <td>@app.title</td>
                            <td>@app.getApplicationRevision</td>
                            <td>@app.getPrpId</td>
                            <td>@app.getPiId</td>
                            <td><button class="nmu-button action-button" href="@controllers.MeetingSystem.routes.MeetingController.getApplication(app.applicationPrimaryKey().shortName())">
                    Review Application
                            </button>
                            </td>
                        }
                    } else {
                        <td colspan="5">
                            <p>No applications assigned to meeting</p>
                        </td>
                    }
            </tbody>
        </table>
        </div>
    }

