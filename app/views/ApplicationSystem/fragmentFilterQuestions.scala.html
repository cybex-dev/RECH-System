@import models.ApplicationSystem.Question
@import models.ApplicationSystem.Condition
@import java.util

@(questionList: util.List[Question])

<div id="filter_question_form" class="modal">
    <div class="modal-content animate">
        <div class="header-panel">
            <span onclick="hidePopup('filter_question_form')" class="close" title="Close PopUp">&times;</span>
            <h1 style="text-align:center">A couple of questions first</h1>
            <h4 style="text-align:center">This will help us determine if you study does require ethics approval</h4>
        </div>

        @{
            var questionId = 0;

            def getConditions(conditionList: util.List[Condition]): String = {
                var list = ""
                for (c <- conditionList) {
                    list += "<input type=\"checkbox\" id=\"question_" + questionId + "\" risk=\"" + c.getRisk.name + "\">" + c.getConditionText + "<br>"
                }
                list
            }

            def processQuestions(): String = {
                var list = ""
                for (q <- questionList) {
                    var l = getConditions(q.getConditionsList)
                    list += "<div class=\"question\"><h2>" + q.getTitle + "</h2><div class=\"condition\">" + l + "</div></div>"
                }
                list
            }

            Html(processQuestions())
        }

    </div>
</div>